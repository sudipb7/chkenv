# chkenv

The environment variable detective your codebase needs.

A command-line tool to analyze environment variables in your project. It helps you identify unused environment variables declared in your `.env` file and undeclared environment variables used in your code.

[NPM](https://www.npmjs.com/package/chkenv) | [GitHub](https://github.com/sudipb7/chkenv)

## Features

- Detects unused environment variables
- Identifies undeclared variables in code
- Interactive cleanup with backup options
- Supports both `process.env` and `import.meta.env`
- Smart comment handling with `--all` flag
- Cleanup options for unused variables
- Automatic backup management
- Multiple file type support

## Installation

```bash
npm install -g chkenv
```

## Usage

```bash
chkenv [options]
```

### Options

```bash
Options:
  -h, --help            Show help
  -v, --version         Show version
  -d, --default         Run with default options
  -p, --path <path>     Directory to analyze (default: ./)
  -c, --config <path>   Configuration file name (default: .env.local)
  -a, --all             Include commented environment variables
  --cleanup             Enable cleanup process for unused variables
```

### Interactive Mode

When run without the `-d` flag, chkenv will prompt for:

1. Directory to analyze
2. Environment file name
3. Comment handling preference
4. Cleanup options for unused variables

### Examples

Quick analysis with defaults:

```bash
chkenv -d
```

Include commented variables:

```bash
chkenv --all
```

Custom Directory Scan:

```bash
chkenv --path src/api
```

Custom Configuration file:

```bash
chkenv --config .env.production
```

Cleanup options:

```bash
chkenv --cleanup
```

Using multiple flags:

```bash
chkenv --config .env.production --path src/api --all --cleanup
```

## Backup Management

When cleaning up unused variables, chkenv offers three backup options:

1. Overwrite existing backup
2. Create new numbered backup (e.g., .env.backup.1)
3. Specify custom backup name

Example backup workflow:

![chkenv workflow](/og.png)

## File Support

[cli/src/utils/constants.ts](https://github.com/sudipb7/chkenv/blob/main/cli/src/utils/constants.ts)

## Excluded Directories

[cli/src/utils/constants.ts](https://github.com/sudipb7/chkenv/blob/main/cli/src/utils/constants.ts)

## Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

## Contact

For any help or queries, you can reach out to me on [X](https://x.com/sudipbiswas_dev) | [LinkedIn](https://linkedin.com/in/sudipb7) | [Peerlist](https://peerlist.io/sudipbiswas).
